<app-passkey-entry *ngIf="needsPasskey" (passkeyCorrect)="onPasskeyCorrect()" />

<div *ngIf="!needsPasskey" class="flex flex-col text-center">
  <div class="flex flex-col flex-grow self-center w-96">
    <h1 class="text-3xl mb-2 text-white font-bold">CONFIGURATION</h1>
    <label class="text-lg font-semibold text-white">ACCOUNT SID</label>
    <input appObscureOnBlur type="password"
      class="p-3 text-center border border-gray-400 rounded-full mb-4 font-semibold"
      placeholder="ACCOUNT SID"
      [(ngModel)]="accountSid" />
    <span *ngIf="!accountSid"
      class="text-white -mt-3 mb-3">Required</span>

    <label class="text-lg font-semibold text-white">AUTH TOKEN</label>
    <input appObscureOnBlur type="password"
      class="p-3 text-center border border-gray-400 rounded-full mb-4 font-semibold"
      placeholder="AUTH TOKEN"
      [(ngModel)]="authToken" />
    <span *ngIf="!authToken"
      class="text-white -mt-3 mb-3">Required</span>

    <label class="text-lg font-semibold text-white">FROM PHONE</label>
    <input type="text"
      class="p-3 text-center border border-gray-400 rounded-full mb-4 font-semibold"
      placeholder="FROM PHONE"
      [(ngModel)]="fromPhone" />
    <span *ngIf="!phoneNumberValid(fromPhone)"
      class="text-white -mt-3 mb-3">Must be in the format '1234567890'</span>

    <label class="text-lg font-semibold text-white">DANIELLE PHONE</label>
    <input type="text"
      class="p-3 text-center border border-gray-400 rounded-full mb-4 font-semibold"
      placeholder="DANIELLE PHONE"
      [(ngModel)]="daniellePhone" />
    <span *ngIf="!phoneNumberValid(daniellePhone)"
      class="text-white -mt-3 mb-3">Must be in the format '1234567890'</span>

    <label class="text-lg font-semibold text-white">KATI PHONE</label>
    <input type="text"
      class="p-3 text-center border border-gray-400 rounded-full mb-4 font-semibold"
      placeholder="KATI PHONE"
      [(ngModel)]="katiPhone" />
    <span *ngIf="!phoneNumberValid(katiPhone)"
      class="text-white -mt-3 mb-3">Must be in the format '1234567890'</span>

    <div class=" relative flex flex-col">
      <button type="submit"
        class="p-3 text-xl text-white rounded-full bg-[#196f70] hover:bg-[#21727a] disabled:bg-gray-400 disabled:text-gray-700 font-semibold"
        [disabled]="!inputsValid"
        (click)="onSaveConfig()">SAVE
      </button>
    </div>
  </div>
</div>
